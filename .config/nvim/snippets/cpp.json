{
    "segment tree": {
        "prefix": "segt",
        "body": [
            "struct Tree {",
            "    typedef int T;",
            "    static constexpr T unit = INT_MIN;",
            "    T f(T a, T b) {",
            "        return max(a, b);",
            "    } // (any associative fn)",
            "    vector<T> s;",
            "    int n;",
            "    Tree(int n_ = 0, T def = unit) : s(2 * n_, def), n(n_) {}",
            "    void update(int pos, T val) {",
            "        for (s[pos += n] = val; pos /= 2;)",
            "            s[pos] = f(s[pos * 2], s[pos * 2 + 1]);",
            "    }",
            "    T query(int b, int e) { // query [b, e)",
            "        T ra = unit, rb = unit;",
            "        for (b += n, e += n; b < e; b /= 2, e /= 2) {",
            "            if (b % 2)",
            "                ra = f(ra, s[b++]);",
            "            if (e % 2)",
            "                rb = f(s[--e], rb);",
            "        }",
            "        return f(ra, rb);",
            "    }",
            "    T query(int i) const {",
            "        return s[n + i];",
            "    }",
            "};",
            ""
        ],
        "description": "segment tree"
    },
    "ipow & minv": {
        "prefix": "minv",
        "body": [
            "i64 ipow(i64 base, i64 exp, i64 mod = MOD) {",
            "    i64 res = 1;",
            "    while (exp) {",
            "        if (exp & 1)",
            "            res = res * base % mod;",
            "        base = base * base % mod;",
            "        exp /= 2;",
            "    }",
            "    return res;",
            "}",
            "i64 minv(i64 x, i64 mod = MOD) {",
            "    return ipow(x, mod - 2, mod);",
            "}",
            ""
        ],
        "description": "ipow & minv"
    }
}
